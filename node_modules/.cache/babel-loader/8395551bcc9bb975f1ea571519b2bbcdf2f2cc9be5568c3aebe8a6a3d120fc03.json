{"ast":null,"code":"import React,{useState,useContext}from'react';import{useParams,useNavigate}from'react-router-dom';import{CartContext}from'./CartContent';import'../assets/ProductDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ProductCard=_ref=>{let{product}=_ref;const navigate=useNavigate();return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",onClick:()=>navigate(\"/product/\".concat(product.id)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL).concat(product.images[0]),alt:product.name,className:\"product-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[product.price,\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-description\",children:product.description.length>100?\"\".concat(product.description.substring(0,100),\"...\"):product.description})]})]});};const ProductDetail=_ref2=>{let{products}=_ref2;const{id}=useParams();const navigate=useNavigate();const{addToCart}=useContext(CartContext);const product=products.find(p=>p.id===parseInt(id));const[currentImageIndex,setCurrentImageIndex]=useState(0);const[isZoomed,setIsZoomed]=useState(false);if(!product)return/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"Product not found\"});const showPrevImage=()=>{setIsZoomed(false);setCurrentImageIndex(prev=>prev===0?product.images.length-1:prev-1);};const showNextImage=()=>{setIsZoomed(false);setCurrentImageIndex(prev=>prev===product.images.length-1?0:prev+1);};const toggleZoom=()=>setIsZoomed(!isZoomed);const handleAddToCart=()=>{addToCart(product);navigate('/cart');};return/*#__PURE__*/_jsx(\"div\",{className:\"product-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-left\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL).concat(product.images[currentImageIndex]),alt:product.name,className:\"product-modal-image \".concat(isZoomed?'zoomed':''),onClick:toggleZoom}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-arrow left\",onClick:showPrevImage,children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-arrow right\",onClick:showNextImage,children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-thumbnails\",children:product.images.map((img,index)=>/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL).concat(img),alt:\"Thumbnail \".concat(index+1),className:\"thumbnail \".concat(index===currentImageIndex?'active':''),onClick:()=>{setCurrentImageIndex(index);setIsZoomed(false);}},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-right\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"product-modal-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-price\",children:[product.price,\" AZN\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"description-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"description-text\",children:product.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"back-btn\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"add-to-cart-btn\",children:\"Add To Cart\"})]})]})]})});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useContext","useParams","useNavigate","CartContext","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","navigate","className","onClick","concat","id","children","src","process","env","REACT_APP_API_URL","images","alt","name","price","description","length","substring","ProductDetail","_ref2","products","addToCart","find","p","parseInt","currentImageIndex","setCurrentImageIndex","isZoomed","setIsZoomed","showPrevImage","prev","showNextImage","toggleZoom","handleAddToCart","map","img","index"],"sources":["C:/Users/user/Desktop/Beta/src/components/ProductDetail.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { CartContext } from './CartContent';\r\nimport '../assets/ProductDetail.css';\r\n\r\nexport const ProductCard = ({ product }) => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"product-card\" onClick={() => navigate(`/product/${product.id}`)}>\r\n      <div className=\"product-image-container\">\r\n        <img\r\n          src={`${process.env.REACT_APP_API_URL}${product.images[0]}`}\r\n          alt={product.name}\r\n          className=\"product-image\"\r\n        />\r\n      </div>\r\n      <div className=\"product-info\">\r\n        <h3 className=\"product-title\">{product.name}</h3>\r\n        <div className=\"product-price\">{product.price} ₽</div>\r\n        <div className=\"product-description\">\r\n          {product.description.length > 100\r\n            ? `${product.description.substring(0, 100)}...`\r\n            : product.description}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProductDetail = ({ products }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { addToCart } = useContext(CartContext);\r\n  const product = products.find(p => p.id === parseInt(id));\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [isZoomed, setIsZoomed] = useState(false);\r\n\r\n  if (!product) return <div className=\"not-found\">Product not found</div>;\r\n\r\n  const showPrevImage = () => {\r\n    setIsZoomed(false);\r\n    setCurrentImageIndex(prev =>\r\n      prev === 0 ? product.images.length - 1 : prev - 1\r\n    );\r\n  };\r\n\r\n  const showNextImage = () => {\r\n    setIsZoomed(false);\r\n    setCurrentImageIndex(prev =>\r\n      prev === product.images.length - 1 ? 0 : prev + 1\r\n    );\r\n  };\r\n\r\n  const toggleZoom = () => setIsZoomed(!isZoomed);\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart(product);\r\n    navigate('/cart');\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-modal-overlay\">\r\n      <div className=\"product-modal\">\r\n        <div className=\"product-modal-left\">\r\n          <img\r\n            src={`${process.env.REACT_APP_API_URL}${product.images[currentImageIndex]}`}\r\n            alt={product.name}\r\n            className={`product-modal-image ${isZoomed ? 'zoomed' : ''}`}\r\n            onClick={toggleZoom}\r\n          />\r\n          <button className=\"modal-arrow left\" onClick={showPrevImage}>\r\n            &lsaquo;\r\n          </button>\r\n          <button className=\"modal-arrow right\" onClick={showNextImage}>\r\n            &rsaquo;\r\n          </button>\r\n\r\n          <div className=\"product-thumbnails\">\r\n            {product.images.map((img, index) => (\r\n              <img\r\n                key={index}\r\n                src={`${process.env.REACT_APP_API_URL}${img}`}\r\n                alt={`Thumbnail ${index + 1}`}\r\n                className={`thumbnail ${index === currentImageIndex ? 'active' : ''}`}\r\n                onClick={() => {\r\n                  setCurrentImageIndex(index);\r\n                  setIsZoomed(false);\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"product-modal-right\">\r\n          <h1 className=\"product-modal-title\">{product.name}</h1>\r\n          <div className=\"product-modal-price\">{product.price} AZN</div>\r\n\r\n          <div className=\"description-container\">\r\n            <div className=\"description-text\">{product.description}</div>\r\n          </div>\r\n\r\n          <div className=\"modal-actions\">\r\n            <button onClick={() => navigate(-1)} className=\"back-btn\">\r\n              Назад\r\n            </button>\r\n            <button onClick={handleAddToCart} className=\"add-to-cart-btn\">\r\n              Add To Cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,WAAW,KAAQ,eAAe,CAC3C,MAAO,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,MAAO,MAAM,CAAAC,WAAW,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACrC,KAAM,CAAAE,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,mBACEK,KAAA,QAAKK,SAAS,CAAC,cAAc,CAACC,OAAO,CAAEA,CAAA,GAAMF,QAAQ,aAAAG,MAAA,CAAaJ,OAAO,CAACK,EAAE,CAAE,CAAE,CAAAC,QAAA,eAC9EX,IAAA,QAAKO,SAAS,CAAC,yBAAyB,CAAAI,QAAA,cACtCX,IAAA,QACEY,GAAG,IAAAH,MAAA,CAAKI,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAAN,MAAA,CAAGJ,OAAO,CAACW,MAAM,CAAC,CAAC,CAAC,CAAG,CAC5DC,GAAG,CAAEZ,OAAO,CAACa,IAAK,CAClBX,SAAS,CAAC,eAAe,CAC1B,CAAC,CACC,CAAC,cACNL,KAAA,QAAKK,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3BX,IAAA,OAAIO,SAAS,CAAC,eAAe,CAAAI,QAAA,CAAEN,OAAO,CAACa,IAAI,CAAK,CAAC,cACjDhB,KAAA,QAAKK,SAAS,CAAC,eAAe,CAAAI,QAAA,EAAEN,OAAO,CAACc,KAAK,CAAC,SAAE,EAAK,CAAC,cACtDnB,IAAA,QAAKO,SAAS,CAAC,qBAAqB,CAAAI,QAAA,CACjCN,OAAO,CAACe,WAAW,CAACC,MAAM,CAAG,GAAG,IAAAZ,MAAA,CAC1BJ,OAAO,CAACe,WAAW,CAACE,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,QACxCjB,OAAO,CAACe,WAAW,CACpB,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAG,aAAa,CAAGC,KAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,KAAA,CACjC,KAAM,CAAEd,EAAG,CAAC,CAAGd,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAE6B,SAAU,CAAC,CAAG/B,UAAU,CAACG,WAAW,CAAC,CAC7C,KAAM,CAAAO,OAAO,CAAGoB,QAAQ,CAACE,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAClB,EAAE,GAAKmB,QAAQ,CAACnB,EAAE,CAAC,CAAC,CACzD,KAAM,CAACoB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGrC,QAAQ,CAAC,CAAC,CAAC,CAC7D,KAAM,CAACsC,QAAQ,CAAEC,WAAW,CAAC,CAAGvC,QAAQ,CAAC,KAAK,CAAC,CAE/C,GAAI,CAACW,OAAO,CAAE,mBAAOL,IAAA,QAAKO,SAAS,CAAC,WAAW,CAAAI,QAAA,CAAC,mBAAiB,CAAK,CAAC,CAEvE,KAAM,CAAAuB,aAAa,CAAGA,CAAA,GAAM,CAC1BD,WAAW,CAAC,KAAK,CAAC,CAClBF,oBAAoB,CAACI,IAAI,EACvBA,IAAI,GAAK,CAAC,CAAG9B,OAAO,CAACW,MAAM,CAACK,MAAM,CAAG,CAAC,CAAGc,IAAI,CAAG,CAClD,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1BH,WAAW,CAAC,KAAK,CAAC,CAClBF,oBAAoB,CAACI,IAAI,EACvBA,IAAI,GAAK9B,OAAO,CAACW,MAAM,CAACK,MAAM,CAAG,CAAC,CAAG,CAAC,CAAGc,IAAI,CAAG,CAClD,CAAC,CACH,CAAC,CAED,KAAM,CAAAE,UAAU,CAAGA,CAAA,GAAMJ,WAAW,CAAC,CAACD,QAAQ,CAAC,CAE/C,KAAM,CAAAM,eAAe,CAAGA,CAAA,GAAM,CAC5BZ,SAAS,CAACrB,OAAO,CAAC,CAClBC,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAED,mBACEN,IAAA,QAAKO,SAAS,CAAC,uBAAuB,CAAAI,QAAA,cACpCT,KAAA,QAAKK,SAAS,CAAC,eAAe,CAAAI,QAAA,eAC5BT,KAAA,QAAKK,SAAS,CAAC,oBAAoB,CAAAI,QAAA,eACjCX,IAAA,QACEY,GAAG,IAAAH,MAAA,CAAKI,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAAN,MAAA,CAAGJ,OAAO,CAACW,MAAM,CAACc,iBAAiB,CAAC,CAAG,CAC5Eb,GAAG,CAAEZ,OAAO,CAACa,IAAK,CAClBX,SAAS,wBAAAE,MAAA,CAAyBuB,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC7DxB,OAAO,CAAE6B,UAAW,CACrB,CAAC,cACFrC,IAAA,WAAQO,SAAS,CAAC,kBAAkB,CAACC,OAAO,CAAE0B,aAAc,CAAAvB,QAAA,CAAC,QAE7D,CAAQ,CAAC,cACTX,IAAA,WAAQO,SAAS,CAAC,mBAAmB,CAACC,OAAO,CAAE4B,aAAc,CAAAzB,QAAA,CAAC,QAE9D,CAAQ,CAAC,cAETX,IAAA,QAAKO,SAAS,CAAC,oBAAoB,CAAAI,QAAA,CAChCN,OAAO,CAACW,MAAM,CAACuB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBAC7BzC,IAAA,QAEEY,GAAG,IAAAH,MAAA,CAAKI,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAAN,MAAA,CAAG+B,GAAG,CAAG,CAC9CvB,GAAG,cAAAR,MAAA,CAAegC,KAAK,CAAG,CAAC,CAAG,CAC9BlC,SAAS,cAAAE,MAAA,CAAegC,KAAK,GAAKX,iBAAiB,CAAG,QAAQ,CAAG,EAAE,CAAG,CACtEtB,OAAO,CAAEA,CAAA,GAAM,CACbuB,oBAAoB,CAACU,KAAK,CAAC,CAC3BR,WAAW,CAAC,KAAK,CAAC,CACpB,CAAE,EAPGQ,KAQN,CACF,CAAC,CACC,CAAC,EACH,CAAC,cAENvC,KAAA,QAAKK,SAAS,CAAC,qBAAqB,CAAAI,QAAA,eAClCX,IAAA,OAAIO,SAAS,CAAC,qBAAqB,CAAAI,QAAA,CAAEN,OAAO,CAACa,IAAI,CAAK,CAAC,cACvDhB,KAAA,QAAKK,SAAS,CAAC,qBAAqB,CAAAI,QAAA,EAAEN,OAAO,CAACc,KAAK,CAAC,MAAI,EAAK,CAAC,cAE9DnB,IAAA,QAAKO,SAAS,CAAC,uBAAuB,CAAAI,QAAA,cACpCX,IAAA,QAAKO,SAAS,CAAC,kBAAkB,CAAAI,QAAA,CAAEN,OAAO,CAACe,WAAW,CAAM,CAAC,CAC1D,CAAC,cAENlB,KAAA,QAAKK,SAAS,CAAC,eAAe,CAAAI,QAAA,eAC5BX,IAAA,WAAQQ,OAAO,CAAEA,CAAA,GAAMF,QAAQ,CAAC,CAAC,CAAC,CAAE,CAACC,SAAS,CAAC,UAAU,CAAAI,QAAA,CAAC,gCAE1D,CAAQ,CAAC,cACTX,IAAA,WAAQQ,OAAO,CAAE8B,eAAgB,CAAC/B,SAAS,CAAC,iBAAiB,CAAAI,QAAA,CAAC,aAE9D,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAY,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}