{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{User,Mail,LogIn}from'lucide-react';import'../assets/Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{var _process$env$REACT_AP,_process$env$REACT_AP2;let{onLogin}=_ref;const[email,setEmail]=useState('');const[username,setUsername]=useState('');const[errors,setErrors]=useState({});const navigate=useNavigate();// Берём значения из .env\nconst ADMIN_EMAIL=(_process$env$REACT_AP=process.env.REACT_APP_ADMIN_EMAIL)===null||_process$env$REACT_AP===void 0?void 0:_process$env$REACT_AP.toLowerCase();const ADMIN_NAME=(_process$env$REACT_AP2=process.env.REACT_APP_ADMIN_NAME)===null||_process$env$REACT_AP2===void 0?void 0:_process$env$REACT_AP2.toLowerCase();const validateForm=()=>{const newErrors={};if(!username){newErrors.username='Name is required';}else if(!/^[A-Za-zА-Яа-яЁё]{3,}$/.test(username)){newErrors.username='The name must contain only letters and be at least 3 characters long.';}if(!email){newErrors.email='Email обязателен';}else if(!/\\S+@\\S+\\.\\S+/.test(email)){newErrors.email='Введите корректный email';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=e=>{e.preventDefault();if(validateForm()){onLogin(email,username);// Проверка на админа\nif(email.toLowerCase()===ADMIN_EMAIL&&username.toLowerCase()===ADMIN_NAME){navigate('/admin');}else{navigate('/');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Stay In Touch With Us\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(User,{size:20}),\"Name:\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>{const val=e.target.value.replace(/[^A-Za-zА-Яа-яЁё]/g,'');setUsername(val);},placeholder:\"Enter name (letters only, at least 3)\",className:errors.username?'error':'',required:true}),errors.username&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",style:{color:'red',fontSize:'0.85rem'},children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Mail,{size:20}),\"Email:\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter your email\",className:errors.email?'error':'',required:true}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",style:{color:'red',fontSize:'0.85rem'},children:errors.email})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"login-btn\",style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(LogIn,{size:20}),\"Subscribe\"]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","User","Mail","LogIn","jsx","_jsx","jsxs","_jsxs","Login","_ref","_process$env$REACT_AP","_process$env$REACT_AP2","onLogin","email","setEmail","username","setUsername","errors","setErrors","navigate","ADMIN_EMAIL","process","env","REACT_APP_ADMIN_EMAIL","toLowerCase","ADMIN_NAME","REACT_APP_ADMIN_NAME","validateForm","newErrors","test","Object","keys","length","handleSubmit","e","preventDefault","className","children","onSubmit","htmlFor","style","display","alignItems","gap","size","type","id","value","onChange","val","target","replace","placeholder","required","color","fontSize","justifyContent"],"sources":["C:/Users/user/Desktop/Beta/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { User, Mail, LogIn } from 'lucide-react';\r\nimport '../assets/Login.css';\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  // Берём значения из .env\r\n  const ADMIN_EMAIL = process.env.REACT_APP_ADMIN_EMAIL?.toLowerCase();\r\n  const ADMIN_NAME = process.env.REACT_APP_ADMIN_NAME?.toLowerCase();\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!username) {\r\n      newErrors.username = 'Name is required';\r\n    } else if (!/^[A-Za-zА-Яа-яЁё]{3,}$/.test(username)) {\r\n      newErrors.username = 'The name must contain only letters and be at least 3 characters long.';\r\n    }\r\n\r\n    if (!email) {\r\n      newErrors.email = 'Email обязателен';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      newErrors.email = 'Введите корректный email';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (validateForm()) {\r\n      onLogin(email, username);\r\n\r\n      // Проверка на админа\r\n      if (email.toLowerCase() === ADMIN_EMAIL && username.toLowerCase() === ADMIN_NAME) {\r\n        navigate('/admin');\r\n      } else {\r\n        navigate('/');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h2>Stay In Touch With Us</h2>\r\n      <form onSubmit={handleSubmit} className=\"login-form\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\" style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n            <User size={20} />\r\n            Name:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => {\r\n              const val = e.target.value.replace(/[^A-Za-zА-Яа-яЁё]/g, '');\r\n              setUsername(val);\r\n            }}\r\n            placeholder=\"Enter name (letters only, at least 3)\"\r\n            className={errors.username ? 'error' : ''}\r\n            required\r\n          />\r\n          {errors.username && <span className=\"error-message\" style={{ color: 'red', fontSize: '0.85rem' }}>{errors.username}</span>}\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\" style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n            <Mail size={20} />\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"Enter your email\"\r\n            className={errors.email ? 'error' : ''}\r\n            required\r\n          />\r\n          {errors.email && <span className=\"error-message\" style={{ color: 'red', fontSize: '0.85rem' }}>{errors.email}</span>}\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"login-btn\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>\r\n          <LogIn size={20} />\r\n          Subscribe\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,IAAI,CAAEC,IAAI,CAAEC,KAAK,KAAQ,cAAc,CAChD,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAAiB,KAAAC,qBAAA,CAAAC,sBAAA,IAAhB,CAAEC,OAAQ,CAAC,CAAAH,IAAA,CACxB,KAAM,CAACI,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAoB,WAAW,EAAAV,qBAAA,CAAGW,OAAO,CAACC,GAAG,CAACC,qBAAqB,UAAAb,qBAAA,iBAAjCA,qBAAA,CAAmCc,WAAW,CAAC,CAAC,CACpE,KAAM,CAAAC,UAAU,EAAAd,sBAAA,CAAGU,OAAO,CAACC,GAAG,CAACI,oBAAoB,UAAAf,sBAAA,iBAAhCA,sBAAA,CAAkCa,WAAW,CAAC,CAAC,CAElE,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,SAAS,CAAG,CAAC,CAAC,CAEpB,GAAI,CAACb,QAAQ,CAAE,CACba,SAAS,CAACb,QAAQ,CAAG,kBAAkB,CACzC,CAAC,IAAM,IAAI,CAAC,wBAAwB,CAACc,IAAI,CAACd,QAAQ,CAAC,CAAE,CACnDa,SAAS,CAACb,QAAQ,CAAG,uEAAuE,CAC9F,CAEA,GAAI,CAACF,KAAK,CAAE,CACVe,SAAS,CAACf,KAAK,CAAG,kBAAkB,CACtC,CAAC,IAAM,IAAI,CAAC,cAAc,CAACgB,IAAI,CAAChB,KAAK,CAAC,CAAE,CACtCe,SAAS,CAACf,KAAK,CAAG,0BAA0B,CAC9C,CAEAK,SAAS,CAACU,SAAS,CAAC,CACpB,MAAO,CAAAE,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,MAAM,GAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAIR,YAAY,CAAC,CAAC,CAAE,CAClBf,OAAO,CAACC,KAAK,CAAEE,QAAQ,CAAC,CAExB;AACA,GAAIF,KAAK,CAACW,WAAW,CAAC,CAAC,GAAKJ,WAAW,EAAIL,QAAQ,CAACS,WAAW,CAAC,CAAC,GAAKC,UAAU,CAAE,CAChFN,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLA,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CACF,CAAC,CAED,mBACEZ,KAAA,QAAK6B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BhC,IAAA,OAAAgC,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9B9B,KAAA,SAAM+B,QAAQ,CAAEL,YAAa,CAACG,SAAS,CAAC,YAAY,CAAAC,QAAA,eAClD9B,KAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9B,KAAA,UAAOgC,OAAO,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,KAAM,CAAE,CAAAN,QAAA,eACrFhC,IAAA,CAACJ,IAAI,EAAC2C,IAAI,CAAE,EAAG,CAAE,CAAC,QAEpB,EAAO,CAAC,cACRvC,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEhC,QAAS,CAChBiC,QAAQ,CAAGd,CAAC,EAAK,CACf,KAAM,CAAAe,GAAG,CAAGf,CAAC,CAACgB,MAAM,CAACH,KAAK,CAACI,OAAO,CAAC,oBAAoB,CAAE,EAAE,CAAC,CAC5DnC,WAAW,CAACiC,GAAG,CAAC,CAClB,CAAE,CACFG,WAAW,CAAC,uCAAuC,CACnDhB,SAAS,CAAEnB,MAAM,CAACF,QAAQ,CAAG,OAAO,CAAG,EAAG,CAC1CsC,QAAQ,MACT,CAAC,CACDpC,MAAM,CAACF,QAAQ,eAAIV,IAAA,SAAM+B,SAAS,CAAC,eAAe,CAACI,KAAK,CAAE,CAAEc,KAAK,CAAE,KAAK,CAAEC,QAAQ,CAAE,SAAU,CAAE,CAAAlB,QAAA,CAAEpB,MAAM,CAACF,QAAQ,CAAO,CAAC,EACvH,CAAC,cAENR,KAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9B,KAAA,UAAOgC,OAAO,CAAC,OAAO,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,KAAM,CAAE,CAAAN,QAAA,eAClFhC,IAAA,CAACH,IAAI,EAAC0C,IAAI,CAAE,EAAG,CAAE,CAAC,SAEpB,EAAO,CAAC,cACRvC,IAAA,UACEwC,IAAI,CAAC,OAAO,CACZC,EAAE,CAAC,OAAO,CACVC,KAAK,CAAElC,KAAM,CACbmC,QAAQ,CAAGd,CAAC,EAAKpB,QAAQ,CAACoB,CAAC,CAACgB,MAAM,CAACH,KAAK,CAAE,CAC1CK,WAAW,CAAC,kBAAkB,CAC9BhB,SAAS,CAAEnB,MAAM,CAACJ,KAAK,CAAG,OAAO,CAAG,EAAG,CACvCwC,QAAQ,MACT,CAAC,CACDpC,MAAM,CAACJ,KAAK,eAAIR,IAAA,SAAM+B,SAAS,CAAC,eAAe,CAACI,KAAK,CAAE,CAAEc,KAAK,CAAE,KAAK,CAAEC,QAAQ,CAAE,SAAU,CAAE,CAAAlB,QAAA,CAAEpB,MAAM,CAACJ,KAAK,CAAO,CAAC,EACjH,CAAC,cAENN,KAAA,WAAQsC,IAAI,CAAC,QAAQ,CAACT,SAAS,CAAC,WAAW,CAACI,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEc,cAAc,CAAE,QAAQ,CAAEb,GAAG,CAAE,KAAM,CAAE,CAAAN,QAAA,eACjIhC,IAAA,CAACF,KAAK,EAACyC,IAAI,CAAE,EAAG,CAAE,CAAC,YAErB,EAAQ,CAAC,EACL,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAApC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}